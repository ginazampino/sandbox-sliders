<!DOCTYPE html>
<html>

<head>
    <title>Swiper</title>
    <link href=" https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.css " rel="stylesheet">
    <script src=" https://cdn.jsdelivr.net/npm/swiper@12/swiper-bundle.min.js "></script>
    <style>
        html,
        body,
        main {
            width: 100%;
            margin: 0;
        }

        .swiper-container {
            max-width: 100%;
            overflow: hidden;
        }

        .swiper {
            border: 2px solid transparent;
            border-radius: .75rem;
            overflow: hidden;
            position: relative;
        }

        .swiper-slide {
            align-items: center;
            background: #eee;
            border-radius: .75rem;
            display: flex;
            justify-content: center;
        }

        .swiper-button-prev,
        .swiper-button-next,
        .swiper-button-toggle {
            cursor: pointer;
            border: 2px solid transparent;
            border-radius: .75rem;
            opacity: .5;
            transition: .2s ease-in-out;
            z-index: 5;
        }

        .swiper-button-toggle {
            align-items: center;
            display: flex;
            justify-content: center;
            left: 0;
            position: absolute;
            top: 0;
        }

        .swiper-button-prev:hover,
        .swiper-button-prev:focus,
        .swiper-button-next:hover,
        .swiper-button-next:focus,
        .swiper-button-toggle:hover,
        .swiper-button-toggle:focus {
            opacity: 1;
        }

        .swiper:focus,
        .swiper-button-prev:focus,
        .swiper-button-next:focus,
        .swiper-button-toggle:focus {
            border-color: #000;
        }

        @media (min-width: 480px) {

            .swiper.single .swiper-slide,
            .swiper.group .swiper-slide {
                flex: 0 0 240px;
            }

            .swiper.page .swiper-slide {
                width: auto;
            }
        }

        /* Demo only: */
        .swiper.single,
        .swiper.group,
        .swiper.page {
            height: 360px;
        }

        .swiper-button-toggle {
            font-size: 2em;
            height: 44px;
            margin-left: .3rem;
        }

        .swiper-button-prev,
        .swiper-button-next {
            font-size: 2.5em;
        }

        .swiper-button-prev,
        .swiper-button-next,
        .swiper-button-toggle {
            color: gray;
            width: 50px;
        }
    </style>
</head>

<body>
    <main>
        <h2>Option A: Move a single slide at a time.</h2>
        <div class="swiper-container">
            <div class="swiper single" data-autoplay="true" data-mode="single">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">Slide 1</div>
                    <div class="swiper-slide">Slide 2</div>
                    <div class="swiper-slide">Slide 3</div>
                    <div class="swiper-slide">Slide 4</div>
                    <div class="swiper-slide">Slide 5</div>
                    <div class="swiper-slide">Slide 6</div>
                    <div class="swiper-slide">Slide 7</div>
                    <div class="swiper-slide">Slide 8</div>
                    <div class="swiper-slide">Slide 9</div>
                    <div class="swiper-slide">Slide 10</div>
                </div>
                <div class="swiper-button-toggle"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
        <h2>Option B: Move multiple slides at a time.</h2>
        <div class="swiper-container">
            <div class="swiper group" data-autoplay="true" data-mode="group" data-count="2,3,4,5">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">Slide 1</div>
                    <div class="swiper-slide">Slide 2</div>
                    <div class="swiper-slide">Slide 3</div>
                    <div class="swiper-slide">Slide 4</div>
                    <div class="swiper-slide">Slide 5</div>
                    <div class="swiper-slide">Slide 6</div>
                    <div class="swiper-slide">Slide 7</div>
                    <div class="swiper-slide">Slide 8</div>
                    <div class="swiper-slide">Slide 9</div>
                    <div class="swiper-slide">Slide 10</div>
                </div>
                <div class="swiper-button-toggle"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
        <h2>Option C: Move an exact number of slides at a time.</h2>
        <div class="swiper-container">
            <div class="swiper page" data-autoplay="true" data-mode="page" data-count="1,2,3,4">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">Slide 1</div>
                    <div class="swiper-slide">Slide 2</div>
                    <div class="swiper-slide">Slide 3</div>
                    <div class="swiper-slide">Slide 4</div>
                    <div class="swiper-slide">Slide 5</div>
                    <div class="swiper-slide">Slide 6</div>
                    <div class="swiper-slide">Slide 7</div>
                    <div class="swiper-slide">Slide 8</div>
                    <div class="swiper-slide">Slide 9</div>
                    <div class="swiper-slide">Slide 10</div>
                </div>
                <div class="swiper-button-toggle"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </main>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const sliders = document.querySelectorAll('.swiper-container');

            sliders.forEach((slider) => {
                const el = slider.querySelector('.swiper');

                if (!el) return;

                const prevButton = el.querySelector('.swiper-button-prev');
                const nextButton = el.querySelector('.swiper-button-next');
                const toggleButton = el.querySelector('.swiper-button-toggle');

                el.setAttribute('tabindex', '0');

                /* ================ Custom helper functions: ================ */
                const asBool = (value) => {
                    if (value == null) return undefined;
                    return value === 'true' || value === '1' || value === '';
                };

                const asNum = (value) => {
                    if (value == null || value == '') return undefined;
                    const number = Number(value);
                    return Number.isFinite(number) ? number : undefined;
                };

                const parseNumList = (value) => {
                    if (!value) return [];
                    return value
                        .split(',')
                        .map((string) => Number(string.trim()))
                        .filter((number) => Number.isFinite(number) && number > 0);
                };

                const getCountFor = (el, size, fallback = 1) => {
                    const list = parseNumList(el.dataset.count);

                    const sm = list[0] ?? fallback;
                    const md = list[1] ?? sm;
                    const lg = list[2] ?? md;
                    const xl = list[3] ?? lg;

                    if (size === 'sm') return sm;
                    if (size === 'md') return md;
                    if (size === 'lg') return lg;
                    return xl;
                };

                /* ================ Custom breakpoint functions: ================ */
                function getConfigFor(el, size) {
                    const mode = el.dataset.mode ?? 'single';

                    const singleConfig = {
                        slidesPerView: 'auto',
                        slidesPerGroup: 1,
                        slidesPerGroupAuto: false,
                        centeredSlides: true,
                        centeredSlidesBounds: true,
                        centerInsufficientSlides: true
                    };

                    const groupConfig = {
                        slidesPerView: 'auto',
                        slidesPerGroup: 1,
                        slidesPerGroupAuto: true,
                        centeredSlides: false,
                        centeredSlidesBounds: false,
                        centerInsufficientSlides: true
                    };

                    const pageConfig = {
                        slidesPerView: 1,
                        slidesPerGroup: 1,
                        slidesPerGroupAuto: false,
                        centeredSlides: false,
                        centeredSlidesBounds: false,
                        centerInsufficientSlides: false
                    };

                    if (mode === 'single') return singleConfig;

                    if (mode === 'group') {
                        const count = getCountFor(el, size);

                        return {
                            slidesPerView: 'auto',
                            slidesPerGroup: count,
                            slidesPerGroupAuto: false,
                            centeredSlides: false,
                            centeredSlidesBounds: false,
                            centerInsufficientSlides: true
                        };
                    }

                    if (mode === 'page') {
                        const count = getCountFor(el, size);

                        return {
                            ...pageConfig,
                            slidesPerView: count,
                            slidesPerGroup: count
                        };
                    };

                    return singleConfig;
                };

                /* ================ Swiper configuration: ================ */
                const swiper = new Swiper(el, {
                    // 1. Accessibility config:
                    a11y: true,
                    keyboard: true,

                    // 2. Control config:
                    navigation: (prevButton && nextButton) ? {
                        prevEl: prevButton,
                        nextEl: nextButton,
                        addIcons: asBool(el.dataset.icons) ?? false
                    } : undefined,

                    // 3. Motion config:
                    autoplay: (asBool(el.dataset.autoplay) ?? false) ? {
                        delay: asNum(el.dataset.delay) ?? 3000,
                        pauseOnMouseEnter: true,
                    } : false,
                    speed: asNum(el.dataset.speed) ?? 500,
                    rewind: asBool(el.dataset.rewind) ?? true,
                    loop: asBool(el.dataset.loop) ?? false,
                    simulateTouch: asBool(el.dataset.touch) ?? true,

                    // 4. Breakpoint config:
                    /* Note: 
                        SETTINGS DO NOT INHERIT/CASCADE LIKE CSS!
                        Empty breakpoint objects will return default Swiper settings,
                        and anything omitted will also be reset.
                    */
                    breakpoints: {
                        0: {
                            spaceBetween: 10,
                            ...getConfigFor(el, 'sm')
                        },
                        480: {
                            spaceBetween: 14,
                            ...getConfigFor(el, 'sm')
                        },
                        640: {
                            spaceBetween: 16,
                            ...getConfigFor(el, 'md')
                        },
                        960: {
                            spaceBetween: 20,
                            ...getConfigFor(el, 'lg')
                        },
                        1280: {
                            spaceBetween: 20,
                            ...getConfigFor(el, 'xl')
                        }
                    },

                    // 5. Other config:
                    initialSlide: asNum(el.dataset.initial) ?? 0,
                    updateOnWindowResize: asBool(el.dataset.update) ?? true,
                });

                /* ================ Custom navigation controls ================ */
                if (prevButton) {
                    prevButton.innerHTML = '&#128896';
                };

                if (nextButton) {
                    nextButton.innerHTML = '&#128898';
                };

                const autoplayEnabled = asBool(el.dataset.autoplay) ?? false;

                if (toggleButton && autoplayEnabled) {
                    toggleButton.innerHTML = '&#9208';
                    toggleButton.setAttribute('tabindex', '0');
                    toggleButton.setAttribute('role', 'button');
                    toggleButton.setAttribute('aria-label', 'Stop slider');

                    function stopSlider() {
                        swiper.autoplay.stop();
                        toggleButton.innerHTML = '&#11208';
                        toggleButton.setAttribute('aria-label', 'Start slider');
                    };

                    function startSlider() {
                        swiper.autoplay.start();
                        toggleButton.innerHTML = '&#9208';
                        toggleButton.setAttribute('aria-label', 'Stop slider');
                    };

                    function toggleSlider() {
                        if (swiper.autoplay.running) {
                            stopSlider();
                        } else startSlider();
                    };

                    toggleButton.addEventListener('click', () => {
                        toggleSlider();
                    });

                    toggleButton.addEventListener('keydown', (event) => {
                        if (event.key === 'Enter' || event.key === ' ') {
                            event.preventDefault();
                            toggleSlider();
                        };
                    });
                } else if (toggleButton) {
                    toggleButton.style.display = 'none';
                };
            });
        });
    </script>
</body>

</html>